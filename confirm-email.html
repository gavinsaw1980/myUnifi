<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to MyUnifi</title>
    <meta name="description" content="" />
    <meta name="MobileOptimized" content="width" />
    <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/app.css">
  </head>
<body>

  <div class="box" style="background-color: #fff !important;">
    <div class="header">
      <div class="grid-x">
        <div class="cell small-4 text-left pl20">
            <a href="otp.html" target="_self"><img src="assets/img/icon-arrow-right.png" alt="Back"></a>
        </div>
        <div class="cell small-4">
            <div class="progress" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuetext="60 percent" aria-valuemax="100" style="margin-top: 38px; height: 3px;">
                <div class="progress-meter orange-bg" style="width: 60%"></div>
            </div>
        </div>
        <div class="cell small-4"></div>
    </div>
    </div>
    <div class="content">
      <div class="large-12 cell text-left pt40 pl20 pr20">
        <h1 class="black">In order to get you onboard,<br />please enter your email <br />address for verification</h1>
      </div>
      <form data-abide novalidate action="email-verification.html" method="post" autocomplete="off">
      <div class="large-12 cell mt20 pl20 pr20" style="position: relative;">
          <label>
            <p id="emailLabel" class="text-left showlabel-style2">Email address</p>
            <input id="emailInput" type="email" class="input-style2" placeholder="Enter email address" tabindex="1" required>
            <p id="invalid_email" class="error text-left" style="color: #E23B06;">Email is invalid</p>
          </label>
      </div>
    </div>
    <div class="footer pl20 pr20 text-center special-padding2">
        <div class="large-12 cell">
           <button id="submitEmail" type="submit" class="button expanded mt50 pt25 pb25 link-style">Next</button>
        </div>
    </div>
    </form>
  </div>

  <!--
  <div class="desktop-footer text-center">
    <p class="df-text"><a href="https://profile.digitalme.my/content/about_digitalme.pdf" target="_blank">About digitalme</a><br />
    <a href="https://profile.digitalme.my/content/terms_of_use.pdf" target="_blank">Terms of Use</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://profile.digitalme.my/content/privacy_statement.pdf" target="_blank">Privacy Statement</a></p>
  </div>
  -->
    
  <script src="js/vendor/jquery.js"></script>
  <script src="js/vendor/what-input.js"></script>
  <script src="js/vendor/foundation.js"></script>
  <script src="js/app.js"></script>
  <script>
    $(document).ready(function(){
      $('#invalid_email').hide();
      $('#emailLabel').hide();
      $('#submitEmail').addClass('disabled');
      $('#submitEmail').prop('disabled', true);

      $('img').on('dragstart', function(e) { 
        e.preventDefault(); 
      });

      $('#emailInput').on('input', function(){
          var email = $('#emailInput').val();
          if (IsEmail(email)==false) {
              $(this).removeAttr("style");
              $('#emailLabel').fadeIn('fast');
              $('#submitEmail').addClass('disabled');
              $('#submitEmail').prop('disabled', true);
              $('#invalid_email').hide();
          } else if ($(this).val() == '') {
              $(this).removeAttr("style");
              $('#emailLabel').hide();
              $('#submitEmail').addClass('disabled');
              $('#submitEmail').prop('disabled', true);
              $('#invalid_email').hide();
          } else {
              $('#emailLabel').fadeIn('fast');
              $(this).css({'border-bottom': '1px solid #ff7a00'});
              $('#submitEmail').removeClass('disabled');
              $('#submitEmail').prop('disabled', false);
          }
      });

      function validateEmail() {
        var email = $('#emailInput').val();
        if(email== 'Enter email address'){
          $('#invalid_email').css('visibility', 'visible');
          $('#invalid_email').fadeIn('fast');
        } else if(IsEmail(email)==false){
          $('#invalid_email').css('visibility', 'visible');
          $('#invalid_email').fadeIn('fast');
        }
      }

      function IsEmail(email) {
        var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        if(!regex.test(email)) {
          return false;
        }else{
          return true;
        }
      }

      $('#submitEmail').click(function(){
        var nIE = $('#emailInput').val();
        localStorage.setItem('#email', nIE);
        validateEmail()
       });
  
    });
    </script>
</body>
</html>
